<section class="add-comentario-container">
  <h2>Agregar Comentario</h2>
  <form [formGroup]="formComentario" (ngSubmit)="agregarComentario()" class="comentario-form">
    <div class="form-group">
      <label for="contenido">Comentario</label>
      <textarea
        id="contenido"
        formControlName="contenido"
        placeholder="Escribe tu comentario aquÃ­..."
        (input)="autoResize($event)"
        rows="4"
        maxlength="500"
      ></textarea>

      @if (contentLength() >= 450) {
        <div class="char-counter warning">
          {{ contentLength() }}/500
        </div>
      } @else {
        <div class="char-counter">
          {{ contentLength() }}/500
        </div>
      }

    </div>
    <div class="form-group">
      <label for="puntaje">Puntaje</label>
      <select id="puntaje" formControlName="puntaje">
        <option value="1">1</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5</option>
      </select>
      @if (formComentario.get('puntaje')?.hasError('required') && formComentario.get('puntaje')?.touched) {
        <span class="error-message">El puntaje es requerido.</span>
      }
    </div>
    <div class="form-actions">
      <button type="submit" class="submit-button" [disabled]="formComentario.invalid">Enviar Comentario</button>
      <button type="button" class="reset-button" (click)="resetear()">Limpiar</button>
    </div>
  </form>
</section>

<app-list-comentario-contprofperf  (puntajeAEliminar)="puntAEliminar($event)" [comentarioNvo]="comentarioAAgregar"></app-list-comentario-contprofperf>
