<section class="comentarios-container">
  <h2>Comentarios Reportados</h2>
  @if (comentarioUsuario.length === 0) {
    <p class="no-comentarios">No hay comentarios reportados para mostrar.</p>
  } @else {
    @for (comentario of comentarioUsuario; track comentario.id) {
      <article
        class="comentario-card"
        (click)="irAPerfilProfesional(comentario.idCreador)"
      >
        <div class="comentario-header">
          <div class="creador-info">
            @if (getUsuarioContratadorById(comentario.idCreador)) {
              <img
                [src]="imagenesPerfil[comentario.idCreador]"
                [alt]="'Foto de ' + getUsuarioContratadorById(comentario.idCreador)!.nombreCompleto"
                class="creador-foto"
                loading="lazy"
              />
              <div class="creador-details">
                <h3>{{ getUsuarioContratadorById(comentario.idCreador)!.nombreCompleto }}</h3>
              </div>
            } @else {
              <span>Cargando datos del usuario...</span>
            }
          </div>
        </div>
        <div class="comentario-content">
          <p>{{ comentario.contenido }}</p>
        </div>
        <div class="comentario-actions" (click)="$event.stopPropagation()">
          <button
            type="button"
            class="approve-button"
            (click)="controlar(comentario, 'aprobar')"
            title="Aprobar comentario"
          >
            <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M5 13l4 4L19 7" />
            </svg>
          </button>
          <button
            type="button"
            class="delete-button"
            (click)="controlar(comentario, 'eliminar')"
            title="Eliminar comentario"
          >
            <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M3 6h18M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2m-4 5v6m-4 0v-6m8 6v-6" />
            </svg>
          </button>
        </div>
      </article>
    }
  }
</section>
