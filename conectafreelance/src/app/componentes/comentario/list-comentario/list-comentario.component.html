<div class="comentarios-container">
  <div class="comentario-list">

  @if (comentarios.length === 0) {
    <p class="no-publicaciones">No hay comentarios para mostrar.</p>
  } @else {
    @for (comentario of comentarios; track $index) {
      @if(esUsuarioActivo(comentario.idCreador)){
        <div class="comentario-card" [class.reported]="comentario.reportada">
          <div class="comentario-header">
            <img
              [src]="getImagenContratador(comentario.idCreador)"
              [alt]="'Foto de ' + (getUsuarioById(comentario.idCreador)?.nombreCompleto || 'Usuario')"
              class="avatar"
              loading="lazy"
            />

            <div class="creador-info">
              <span class="nombre-creador">{{ getUsuarioById(comentario.idCreador)?.nombreCompleto }}</span>
              <span class="puntaje">Puntaje: {{ comentario.puntaje }}/5</span>
            </div>
          </div>
          <div class="comentario-content">
            <p>{{ comentario.contenido }}</p>
          </div>
          <div class="comentario-actions">
            @if (!comentario.reportada) {
              @if(!comentario.controlado){
                <button
                  (click)="reportarComentario(comentario.id)"
                  class="report-button"
                >
                  Reportar
                </button>
              }@else {
                <span class="reported-label">Comentario controlado</span>

              }
            } @else {
              <span class="reported-label">Comentario reportado</span>
            }
          </div>
        </div>
      }
    }
  }
  </div>
</div>
